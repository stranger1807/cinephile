import{j as u,k as d,l as _,m as p,n as m,r as h,w as y,a as t,c,d as i,p as f,v as g,f as v,q as S,F as $,g as k,i as x,h as w,b as V}from"./index-72ed02e0.js";import{_ as A}from"./ContentItem-fdda3340.js";const B=u("search",{state:()=>({searchArray:null,search:"",adult:!1,total_pages:0}),actions:{async getSearch(r=1){if(this.search!="")try{const e=await d({method:"GET",url:`${_}search/multi?query=${this.search}&include_adult=${this.adult}&language=${p}&page=${r}`,headers:m});this.searchArray=e.data.results,this.total_pages=e.data.total_pages,console.log(e.data)}catch(e){console.error("error in Search Store",e)}else this.searchArray=null}}}),N={class:"search"},b={class:"container"},q=["placeholder"],E={key:0,class:"content__list"},F={__name:"Search",props:["placeholder"],setup(r){const e=B();let a=h("");const l=h([]);return y(()=>a.value,o=>{e.search=o,e.getSearch(),l.value=e.searchArray}),(o,n)=>(t(),c("section",N,[i("div",b,[f(i("input",{type:"text",class:"search__input",placeholder:r.placeholder,"onUpdate:modelValue":n[0]||(n[0]=s=>S(a)?a.value=s:a=s)},null,8,q),[[g,v(a)]]),l.value!=null?(t(),c("div",E,[(t(!0),c($,null,k(l.value,s=>(t(),w(A,{key:s.id,content:s,type:s.type},null,8,["content","type"]))),128))])):x("",!0)])]))}},T={class:"main"},C={__name:"SearchView",setup(r){return(e,a)=>(t(),c("main",T,[V(F,{placeholder:"Найти фильм, сериал..."})]))}};export{C as default};
//# sourceMappingURL=SearchView-85ee9413.js.map
