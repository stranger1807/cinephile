{"version":3,"file":"Content-465d4e94.js","sources":["../../src/components/Content/Content.vue"],"sourcesContent":["<template>\r\n  <section class=\"content\" v-if=\"allContent.length > 0\">\r\n    <div class=\"container content-block\">\r\n      <h2 class=\"content__title\">\r\n        {{ type == \"movie\" ? \"Все фильмы\" : \"Все сериалы\" }}\r\n      </h2>\r\n      <div class=\"content__list\">\r\n        <ContentItem\r\n          v-for=\"content in allContent\"\r\n          :key=\"content.id\"\r\n          :content=\"content\"\r\n          :type=\"type\"\r\n        />\r\n      </div>\r\n      <div class=\"content__btn\">\r\n        <button class=\"content__btn-more\" @click=\"getContent\">Показать еще</button>\r\n      </div>\r\n    </div>\r\n  </section>\r\n  <Loader v-else-if=\"loading || allContent.length == 0\" />\r\n</template>\r\n\r\n<script setup>\r\nimport ContentItem from \"@/components/UI/ContentItem.vue\";\r\nimport { usePopular } from \"@/stores/popular\";\r\nimport { onMounted, ref } from \"vue\";\r\nimport Loader from \"@/components/UI/Loader.vue\";\r\n\r\nconst popularStore = usePopular();\r\nconst props = defineProps([\"type\"]);\r\n\r\nlet page = ref(1);\r\nlet loading = ref(false);\r\nlet allContent = ref([]);\r\n\r\nconst getContent = async () => {\r\n  if (!loading.value) {\r\n    loading.value = true;\r\n    await popularStore.getPopular(props.type, page.value);\r\n    let state =\r\n      props.type == \"movie\"\r\n        ? popularStore.popularMovie\r\n        : popularStore.popularTv;\r\n    allContent.value.push(...state);\r\n    loading.value = false;\r\n    page.value++;\r\n  }\r\n};\r\n\r\nonMounted(() => {\r\n  getContent();\r\n});\r\n</script>\r\n"],"names":["popularStore","usePopular","page","ref","loading","allContent","getContent","props","state","onMounted"],"mappings":"yVA4BMA,EAAeC,EAAU,EAG/B,IAAIC,EAAOC,EAAI,CAAC,EACZC,EAAUD,EAAI,EAAK,EACnBE,EAAaF,EAAI,CAAA,CAAE,EAEvB,MAAMG,EAAa,SAAY,CAC7B,GAAI,CAACF,EAAQ,MAAO,CAClBA,EAAQ,MAAQ,GAChB,MAAMJ,EAAa,WAAWO,EAAM,KAAML,EAAK,KAAK,EACpD,IAAIM,EACFD,EAAM,MAAQ,QACVP,EAAa,aACbA,EAAa,UACnBK,EAAW,MAAM,KAAK,GAAGG,CAAK,EAC9BJ,EAAQ,MAAQ,GAChBF,EAAK,QAET,EAEA,OAAAO,EAAU,IAAM,CACdH,GACF,CAAC"}